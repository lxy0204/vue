<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>vue_third</title>
        <link href="src/css/lxy_style.css" rel="stylesheet" type="text/css">
        <script src="http://vuejs.org/js/vue.js"></script>
    </head>
    <body>
        <form id="main_3" v-cloak>
            <h1>Services</h1>
            <ul>
                <li v-for="service in services" v-on:click="toggleActive(service)" v-bind:class="{'active':service.active}">
                    {{service.name}}<span>{{service.price | currency}}</span>
                </li>
            </ul>
            <div class="total">
                Total: <span>{{total() | currency}}</span>
            </div>
        </form>
        <script>
            var demo = new Vue({
                el: '#main_3',
                data: {
                    services: [
                        {
                            name: 'Web Development',
                            price: 300,
                            active: true
                        },{
                            name: 'Design',
                            price: 400,
                            active: false
                        },{
                            name: 'Integration',
                            price: 250,
                            active: false
                        },{
                            name: 'Training',
                            price: 220,
                            active: false
                        }
                    ]
                },
                methods: {
                    toggleActive: function (s) {
                        s.active = !s.active;
                    },
                    total: function(){
                        var total = 0;
                        this.services.forEach(function(s){
                            if(s.active){
                                total += s.price;
                            }
                        });
                        return total;
                    }
                }
            });
        </script>
    </body>
</html>